# ğŸ¦… Bot Sniper Bybit v2.4.0 - Continuous Learning Edition

Um sistema de trading algorÃ­tmico de alta performance para o mercado de futuros de criptomoedas, equipado com **InteligÃªncia Artificial que aprende continuamente** com os prÃ³prios resultados. Arquitetura modular, gestÃ£o de risco profissional, validaÃ§Ã£o por IA de visÃ£o e sistema de feedback loop completo.

## ğŸ§  Nova Era: IA que Aprende com ExperiÃªncia

### Sistema de Aprendizado ContÃ­nuo (v2.4.0)
*   **Feedback Loop Completo:** Conecta prediÃ§Ãµes da IA com resultados reais de P&L
*   **Treinamento Incremental:** Modelo evolui automaticamente preservando conhecimento anterior  
*   **ConfianÃ§a Adaptiva:** IA ajusta confianÃ§a dos padrÃµes baseado em performance histÃ³rica
*   **Auto-OtimizaÃ§Ã£o:** PadrÃµes ruins perdem peso, bons ganham forÃ§a automaticamente

### Performance Tracking & Analytics
*   **Base de Performance:** 6,800+ amostras coletadas com resultados reais
*   **MÃ©tricas por PadrÃ£o:** Taxa de sucesso, P&L mÃ©dio, duraÃ§Ã£o por tipo de setup
*   **Ajuste AutomÃ¡tico:** Pesos dos padrÃµes se adaptam baseado em histÃ³rico de acertos
*   **CompactaÃ§Ã£o Inteligente:** Preserva dados importantes, arquiva histÃ³rico antigo

## ğŸš€ Funcionalidades Principais

### Core System
*   **Arquitetura "Hunter-Killer":**
    *   `Scanner`: Varredura contÃ­nua de 30+ pares em mÃºltiplos timeframes + **coleta 24/7** para IA
    *   `Monitor`: Vigia de preÃ§o "Just-in-Time" com **validaÃ§Ã£o por Vision AI**
    *   `Executor`: MÃ³dulo "Fire-and-Forget" com **proteÃ§Ã£o anti-duplicaÃ§Ã£o** e feedback automÃ¡tico

### ğŸ›¡ï¸ Risk Management & Capital Defense
*   **GestÃ£o de Risco Profissional:**
    *   CÃ¡lculo de lote baseado em risco fixo (1.5-5% da banca por trade)
    *   **ProteÃ§Ã£o contra mÃºltiplas entradas** no mesmo ativo (bug corrigido v2.4.0)
*   **Break-Even AutomÃ¡tico:** Move o Stop para entrada ao atingir 25% do alvo
*   **ProteÃ§Ã£o de LiquidaÃ§Ã£o:** Ajuste automÃ¡tico de Stop Loss se muito prÃ³ximo da liquidaÃ§Ã£o
*   **Filtro de CorrelaÃ§Ã£o:** Sistema BTC/BTC.D com 5 cenÃ¡rios de mercado

### ğŸ¯ Vision AI Integration (v2.3.0 â†’ v2.4.0)
*   **ValidaÃ§Ã£o GrÃ¡fica:** Google Gemini/GPT-4o analisa grÃ¡ficos antes de aprovar trades
*   **ConfianÃ§a Melhorada:** Sistema combina confianÃ§a tÃ©cnica + histÃ³rico de performance
*   **RejeiÃ§Ã£o Inteligente:** IA identifica "falsos rompimentos" e remove da watchlist
*   **Feedback ContÃ­nuo:** Cada resultado real alimenta o modelo de confianÃ§a

## âš¡ NEW in v2.4.0 - Continuous Learning System

### ğŸ”„ Sistema de Feedback Loop Completo

#### Brain Performance Tracker
*   **ConexÃ£o PrediÃ§Ã£o â†” Resultado:** Liga cada anÃ¡lise da IA com o P&L real do trade
*   **MÃ©tricas Detalhadas:** Success rate, P&L mÃ©dio, duraÃ§Ã£o por padrÃ£o
*   **HistÃ³rico Completo:** Base de dados rastreando 100+ trades com performance real

#### Continuous Learning Engine  
*   **Treinamento Incremental:** Modelo treina automaticamente a cada 50+ novos dados
*   **PreservaÃ§Ã£o de Conhecimento:** Nunca "esquece" aprendizado anterior
*   **AdaptaÃ§Ã£o de Pesos:** PadrÃµes com baixa performance perdem influÃªncia automaticamente
*   **ValidaÃ§Ã£o de Melhorias:** SÃ³ aplica novos modelos se houver melhoria real (>5%)

#### Enhanced Vision Confidence
*   **Multiplicadores Adaptativos:** IA ajusta confianÃ§a baseada em histÃ³rico do padrÃ£o
*   **Exemplo:** BANDEIRA_ALTA que falhou 3x seguidas tem confianÃ§a reduzida para 0.3x
*   **Auto-CorreÃ§Ã£o:** PadrÃµes com alta taxa de sucesso ganham boost de confianÃ§a (1.5x)

### ğŸ“Š Coleta ContÃ­nua de Dados
*   **Modo 24/7:** Scanner coleta dados mesmo com watchlist cheia (nÃ£o para mais)
*   **SeparaÃ§Ã£o LÃ³gica:** Coleta para IA â‰  Trading ativo
*   **Volume Massivo:** ~100-200 novas amostras por dia vs. ~10-20 anterior
*   **Rate Limit Inteligente:** Delays dinÃ¢micos para nÃ£o sobrecarregar APIs

### ğŸ”§ Sistema de ManutenÃ§Ã£o AutomÃ¡tica
*   **CompactaÃ§Ã£o Inteligente:** Preserva dados vÃ¡lidos, arquiva invÃ¡lidos antigos
*   **Limpeza de Imagens:** Remove grÃ¡ficos antigos mantendo os de padrÃµes vÃ¡lidos  
*   **Auto-ExecuÃ§Ã£o:** Roda automaticamente a cada 12h sem intervenÃ§Ã£o
*   **RotaÃ§Ã£o de Logs:** HistÃ³rico preservado mas compactado para economizar espaÃ§o

## ğŸ“ˆ PadrÃµes Suportados & Performance

| PadrÃ£o | Amostras | Taxa Sucesso* | ConfianÃ§a Base | Status IA |
|--------|----------|---------------|----------------|-----------|
| OCO | 1,987 | ~65% | 0.80 | âœ… Otimizado |
| TOPO_DUPLO | 1,384 | ~58% | 0.75 | âœ… Ajustado |
| CUNHA_ASCENDENTE | 1,155 | ~52% | 0.68 | âš–ï¸ Monitorado |
| OCO_INVERTIDO | 906 | ~61% | 0.80 | âœ… Otimizado |
| FUNDO_DUPLO | 654 | ~55% | 0.75 | âœ… Ajustado |
| BANDEIRA_ALTA | 15 | ~40%** | 0.70â†’0.42 | âš ï¸ Penalizado |
| TRIANGULO_* | 510 | ~49% | 0.72 | âš–ï¸ Em AnÃ¡lise |

*\* Performance histÃ³rica baseada em Vision AI + resultados reais*  
*\*\* BANDEIRA_ALTA sofreu penalizaÃ§Ã£o apÃ³s incidente AAVE (-10 USDT)*

## ğŸ¯ Fluxo Operacional Atualizado

```
ğŸ“¡ Scanner (24/7)
    â”œâ”€â”€ Detecta PadrÃ£o
    â”œâ”€â”€ ğŸ§  SEMPRE: Coleta para IA (brain_collector)
    â”œâ”€â”€ âœ… Se Watchlist tem slot: Envia para Monitor
    â””â”€â”€ âŒ Se cheia: SÃ³ coleta (nÃ£o tradea)

ğŸ‘ï¸ Monitor + Vision AI
    â”œâ”€â”€ Recebe padrÃ£o da watchlist
    â”œâ”€â”€ Gera grÃ¡fico automaticamente  
    â”œâ”€â”€ ğŸ¤– IA analisa: VALID/INVALID (confianÃ§a melhorada)
    â”œâ”€â”€ âœ… Se VALID: MantÃ©m na watchlist
    â””â”€â”€ âŒ Se INVALID: Remove + blacklist 6h

âš¡ Executor (Fire & Forget)
    â”œâ”€â”€ ğŸ›¡ï¸ Verifica: PosiÃ§Ã£o jÃ¡ existe? (anti-duplicaÃ§Ã£o)
    â”œâ”€â”€ ğŸ’° Calcula: Tamanho baseado em risco
    â”œâ”€â”€ ğŸ¯ Executa: Ordem a mercado
    â”œâ”€â”€ ğŸ›¡ï¸ Define: Stop Loss + Take Profit
    â””â”€â”€ ğŸ“Š Registra: Feedback para IA (ao fechar)

ğŸ§  Continuous Learning (Background)
    â”œâ”€â”€ ğŸ”„ A cada 12h: Processa novos feedbacks
    â”œâ”€â”€ ğŸ¯ A cada 50+ dados: Retreina modelo
    â”œâ”€â”€ ğŸ“Š Atualiza: Pesos e confianÃ§a por padrÃ£o
    â””â”€â”€ ğŸ—„ï¸ Arquiva: Dados antigos mantendo essenciais
```

## âš™ï¸ ConfiguraÃ§Ã£o & Setup

### PrÃ©-requisitos
*   Python 3.8+
*   Chaves API Bybit (Futures)
*   Google API Key (Gemini Pro Vision)
*   Servidor com IP pÃºblico (para webhooks TradingView)

### InstalaÃ§Ã£o RÃ¡pida
```bash
git clone https://github.com/bernini10/bot_sniper_bybit.git
cd bot_sniper_bybit
pip install -r requirements.txt

# Configurar chaves (copie .env.example para .env)
cp .env.example .env
nano .env

# Inicializar sistema de IA
python3 brain_initialization.py --mode full

# Iniciar sistema completo
./restart_system_v2.3.1.sh
```

### ConfiguraÃ§Ã£o do Vision AI
1. **Google API:** Obtenha chave em [Google AI Studio](https://makersuite.google.com/app/apikey)
2. **Adicione ao .env:**
   ```
   GOOGLE_API_KEY=sua_chave_aqui
   ```
3. **Teste:** `python3 vision_validator.py` (deve processar amostras pendentes)

## ğŸ“Š Dashboard & Monitoramento

### Interface Web (Dashboard v2.3.0)
*   **URL:** `http://SEU_IP:5000`
*   **Watchlist:** PadrÃµes ativos com status da Vision AI
*   **Performance:** MÃ©tricas de P&L por padrÃ£o
*   **Trades:** HistÃ³rico completo com detalhes
*   **Vision:** Seletor manual de validaÃ§Ã£o por IA

### Logs & Debug
```bash
# Logs principais
tail -f scanner_bybit.log      # PadrÃµes detectados
tail -f monitor_bybit.log      # ValidaÃ§Ãµes da IA
tail -f vision.log             # AnÃ¡lises grÃ¡ficas
tail -f brain_initialization.log  # Sistema de aprendizado

# Status do sistema
python3 brain_initialization.py --mode status
```

### MÃ©tricas de Performance
```bash
# RelatÃ³rio completo de IA
python3 -c "
from brain_performance_tracker import performance_tracker
summary = performance_tracker.get_performance_summary()
print(f'Taxa Sucesso: {summary[\"general\"][\"success_rate\"]:.1%}')
print(f'P&L Total: {summary[\"general\"][\"total_pnl\"]:.3f} USDT')
print(f'Feedbacks: {summary[\"general\"][\"total_feedback\"]}')
"
```

## ğŸ”„ PrÃ³ximos Passos (Roadmap v2.5.0+)

### ğŸ¯ Em Desenvolvimento
*   **Backtesting Inteligente:** SimulaÃ§Ã£o usando dados histÃ³ricos + IA treinada
*   **Multi-Exchange:** ExpansÃ£o para Binance, OKX com arbitragem de padrÃµes
*   **Risk Scaling:** Aumento automÃ¡tico de posiÃ§Ã£o baseado em streak de acertos
*   **Portfolio Balance:** DiversificaÃ§Ã£o automÃ¡tica entre setores (DeFi, L1, Gaming, etc)

### ğŸ§  Melhorias de IA
*   **Vision AI 2.0:** Modelo prÃ³prio treinado especificamente em padrÃµes crypto
*   **Sentiment Analysis:** IntegraÃ§Ã£o com feeds de notÃ­cias e redes sociais
*   **Market Regime Detection:** IdentificaÃ§Ã£o automÃ¡tica de bull/bear/crab markets
*   **Ensemble Models:** CombinaÃ§Ã£o de mÃºltiplos modelos para maior precisÃ£o

### âš¡ Performance & Scale
*   **GPU Acceleration:** Treinamento de modelos em GPU para responses mais rÃ¡pidas
*   **Distributed Architecture:** Multi-nodes para maior capacidade de processamento
*   **Real-Time WebSocket:** AtualizaÃ§Ãµes instantÃ¢neas no dashboard
*   **Mobile Alerts:** App mobile para notificaÃ§Ãµes push

### ğŸ›¡ï¸ Risk & Safety
*   **Stress Testing:** SimulaÃ§Ã£o de cenÃ¡rios extremos de mercado
*   **Position Correlation:** AnÃ¡lise de correlaÃ§Ã£o entre posiÃ§Ãµes ativas
*   **Dynamic Risk:** Ajuste automÃ¡tico de risco baseado em volatilidade
*   **Emergency Protocols:** Fechamento automÃ¡tico em cenÃ¡rios de crise

## ğŸ† Resultados & Conquistas

### v2.4.0 Achievements
*   âœ… **Bug CrÃ­tico Resolvido:** MÃºltiplas entradas no mesmo ativo (caso AAVE)
*   âœ… **IA Implementada:** Sistema de feedback loop funcionando 24/7
*   âœ… **Performance Tracking:** 6,874+ amostras com resultados reais
*   âœ… **Auto-OtimizaÃ§Ã£o:** PadrÃµes se ajustam automaticamente baseado em performance
*   âœ… **Coleta Massiva:** 10x mais dados coletados para treinamento da IA

### PrÃ³ximos Milestones
*   ğŸ¯ **1,000 Feedbacks:** Primeira grande anÃ¡lise de performance (ETA: 2 semanas)
*   ğŸ¯ **Modelo v2.0.0:** Primeiro retreino significativo com performance melhorada
*   ğŸ¯ **Taxa 70%+:** Objetivo de taxa de sucesso acima de 70% em padrÃµes principais
*   ğŸ¯ **ROI Tracking:** ImplementaÃ§Ã£o de tracking de ROI por perÃ­odo

## ğŸ“ Suporte & Comunidade

*   **GitHub Issues:** [Reportar bugs/sugestÃµes](https://github.com/bernini10/bot_sniper_bybit/issues)
*   **DocumentaÃ§Ã£o:** Consulte os arquivos `.md` para detalhes tÃ©cnicos
*   **Updates:** Acompanhe releases no GitHub para novas versÃµes

---

## âš ï¸ Disclaimer

Este software Ã© fornecido "como estÃ¡" para fins educacionais e de pesquisa. Trading de criptomoedas envolve risco significativo de perda financeira. Use apenas capital que pode perder. Teste sempre em conta demo primeiro. Os desenvolvedores nÃ£o se responsabilizam por perdas financeiras.

**VersÃ£o:** v2.4.0-continuous-learning-system  
**Ãšltima AtualizaÃ§Ã£o:** Fevereiro 2026  
**LicenÃ§a:** MIT  
**Python:** 3.8+  
**Status:** ğŸŸ¢ ProduÃ§Ã£o EstÃ¡vel com IA Ativa